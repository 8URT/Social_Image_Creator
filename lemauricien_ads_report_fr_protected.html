<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Mauricien - Rapport de Revenus Publicitaires</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        :root {
            --indigo: #540d6eff;
            --red-crayola: #ee4266ff;
            --sunglow: #ffd23fff;
            --turquoise: #3bceacff;
            --jade: #0ead69ff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            line-height: 1.6;
        }

        .password-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #540d6e 0%, #ee4266 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            flex-direction: column;
            gap: 20px;
        }

        .password-container {
            background: white;
            padding: 40px;
            border-radius: 2px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }

        .password-container h2 {
            color: #540d6e;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .password-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 2px;
            font-size: 16px;
            margin-bottom: 15px;
            box-sizing: border-box;
        }

        .password-input:focus {
            outline: none;
            border-color: #540d6e;
        }

        .password-button {
            background: #540d6e;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 2px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .password-button:hover {
            background: #ee4266;
        }

        .error-message {
            color: #ee4266;
            margin-top: 10px;
            font-size: 14px;
            display: none;
        }

        .main-content {
            display: none;
        }

        .main-content.authenticated {
            display: block;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .language-flags {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 10px;
        }

        .language-flag {
            font-size: 24px;
            padding: 8px 12px;
            border: 2px solid #fff;
            border-radius: 2px;
            cursor: pointer;
            transition: transform 0.2s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            display: inline-block;
            background: rgba(255,255,255,0.1);
        }

        .language-flag:hover {
            transform: scale(1.1);
        }

        .language-flag.active {
            border-color: #ffd23f;
            box-shadow: 0 0 10px rgba(255, 210, 63, 0.5);
        }

        .header {
            background: #e63946;
            color: white;
            padding: 30px;
            border-radius: 2px;
            text-align: left;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            width: 100%;
            margin-bottom: 15px;
        }

        .header-content {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
        }

        .date-range {
            background: rgba(255,255,255,0.1);
            padding: 10px 20px;
            border-radius: 2px;
            display: inline-block;
            margin-top: 0;
            align-self: flex-end;
        }

        .header h1 {
            font-size: 1.8em;
            margin-bottom: 8px;
            font-weight: 300;
            line-height: 1.2;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            line-height: 1.2;
        }

        .key-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .metric-card {
            background: white;
            padding: 25px;
            border-radius: 2px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
            border-left: 5px solid var(--indigo);
        }

        .metric-card:hover {
            transform: translateY(-5px);
        }

        .metric-card.highlight {
            border-left-color: var(--jade);
            background: linear-gradient(135deg, #f8fffe 0%, #e8f5f3 100%);
        }

        .metric-value {
            font-size: 2.2em;
            font-weight: bold;
            color: var(--indigo);
            margin-bottom: 5px;
        }

        .metric-label {
            color: #666;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .chart-container {
            background: white;
            padding: 30px;
            border-radius: 2px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .chart-title {
            font-size: 1.5em;
            color: var(--indigo);
            margin-bottom: 20px;
            text-align: center;
        }

        .chart-wrapper {
            position: relative;
            height: 400px;
            margin-bottom: 20px;
        }

        .data-table {
            background: white;
            border-radius: 2px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }

        .data-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            background: var(--indigo);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .data-table td {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }

        .compact-table {
            background: white;
            border-radius: 2px;
            overflow: hidden;
            box-shadow: 0 3px 8px rgba(0,0,0,0.06);
            font-size: 0.85em;
        }

        .compact-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .compact-table th {
            background: var(--indigo);
            color: white;
            padding: 8px 6px;
            text-align: left;
            font-weight: 600;
            font-size: 0.8em;
        }

        .compact-table td {
            padding: 6px;
            border-bottom: 1px solid #f0f0f0;
            font-size: 0.8em;
        }

        .data-table th {
            background: var(--indigo);
            color: white;
            padding: 12px 10px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9em;
        }

        .data-table td {
            padding: 10px;
            border-bottom: 1px solid #f0f0f0;
            font-size: 0.9em;
        }

        .compact-table tr:hover {
            background: #f8f9fa;
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        .tooltip {
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 8px 12px;
            border-radius: 2px;
            font-size: 0.9em;
            position: absolute;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .key-metrics {
                grid-template-columns: 1fr;
            }
            
            .chart-wrapper {
                height: 300px;
            }

            .chart-container > div[style*="display: flex"] {
                flex-direction: column !important;
            }

            .chart-container > div[style*="display: flex"] > div:first-child {
                flex: none !important;
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <div id="passwordOverlay" class="password-overlay">
        <div class="password-container">
            <h2>ğŸ”’ AccÃ¨s Restreint</h2>
            <p style="color: #666; margin-bottom: 20px;">Veuillez entrer le mot de passe pour accÃ©der au rapport</p>
            <input type="password" id="passwordInput" class="password-input" placeholder="Mot de passe" maxlength="20">
            <button onclick="checkPassword()" class="password-button">AccÃ©der</button>
            <div id="errorMessage" class="error-message">Mot de passe incorrect</div>
        </div>
    </div>

    <div id="mainContent" class="main-content">
    <div class="language-flags">
        <span class="language-flag" onclick="window.location.href='lemauricien_ads_report_protected.html'" title="English">ğŸ‡¬ğŸ‡§</span>
        <span class="language-flag active" onclick="window.location.href='lemauricien_ads_report_fr_protected.html'" title="FranÃ§ais">ğŸ‡«ğŸ‡·</span>
    </div>

    <div class="container">
        <div class="header">
            <div class="header-top">
                <img src="logo.png" alt="Logo Le Mauricien" style="height: 60px; width: auto;">
                <div class="date-range">
                    1er janvier - 30 septembre 2025
                </div>
            </div>
            <div class="header-content">
                <h1>Rapport de Revenus Publicitaires Le Mauricien</h1>
                <p>Analyse ComplÃ¨te de la Performance de la PublicitÃ© NumÃ©rique</p>
            </div>
        </div>

        <div class="key-metrics">
            <div class="metric-card">
                <div class="metric-value">â‚¬17,703.83</div>
                <div class="metric-label">Revenus Totaux</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">52,6M</div>
                <div class="metric-label">Impressions Totales</div>
            </div>
            <div class="metric-card highlight">
                <div class="metric-value">â‚¬3,110.35</div>
                <div class="metric-label">Revenus Vignettes</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">0,34â‚¬</div>
                <div class="metric-label">RPM Moyen</div>
            </div>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Revenus par Format Publicitaire</h2>
            <div style="display: flex; gap: 30px; align-items: flex-start;">
                <div style="flex: 0 0 30%;">
                    <div class="data-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Format Publicitaire</th>
                                    <th>Revenus (â‚¬)</th>
                                    <th>RPM (â‚¬)</th>
                                    <th>% Revenus</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Display (Manuel)</td>
                                    <td>8,771.72</td>
                                    <td>0.24</td>
                                    <td>49.5%</td>
                                </tr>
                                <tr style="background: linear-gradient(90deg, rgba(238,66,102,0.1) 0%, transparent 100%);">
                                    <td><strong>Vignette</strong></td>
                                    <td><strong>3,110.35</strong></td>
                                    <td><strong>1.46</strong></td>
                                    <td><strong>17.6%</strong></td>
                                </tr>
                                <tr>
                                    <td>Ancre</td>
                                    <td>2,986.64</td>
                                    <td>0.64</td>
                                    <td>16.9%</td>
                                </tr>
                                <tr>
                                    <td>Multiplex (Manuel)</td>
                                    <td>2,896.65</td>
                                    <td>0.56</td>
                                    <td>16.4%</td>
                                </tr>
                                <tr>
                                    <td>Dans la page</td>
                                    <td>561.17</td>
                                    <td>0.15</td>
                                    <td>3.2%</td>
                                </tr>
                                <tr>
                                    <td>Display (Auto)</td>
                                    <td>278.28</td>
                                    <td>0.33</td>
                                    <td>1.6%</td>
                                </tr>
                                <tr>
                                    <td>Multiplex (Auto)</td>
                                    <td>90.40</td>
                                    <td>0.35</td>
                                    <td>0.5%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div style="flex: 0 0 30%;">
                    <div class="chart-wrapper">
                        <canvas id="revenueChart"></canvas>
                    </div>
                </div>
                <div style="flex: 0 0 30%;">
                    <div class="compact-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Descriptions des Formats Publicitaires</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 8px; font-size: 0.8em; line-height: 1.4;">
                                        <strong>Display (Manuel):</strong> PublicitÃ©s banniÃ¨res traditionnelles placÃ©es dans le contenu des pages web.
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; font-size: 0.8em; line-height: 1.4;">
                                        <strong>Vignette:</strong> PublicitÃ©s plein Ã©cran qui apparaissent entre les pages de contenu.
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; font-size: 0.8em; line-height: 1.4;">
                                        <strong>Ancre:</strong> PublicitÃ©s collantes qui suivent les utilisateurs lors du dÃ©filement de la page.
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; font-size: 0.8em; line-height: 1.4;">
                                        <strong>Multiplex (Manuel):</strong> Plusieurs publicitÃ©s affichÃ©es ensemble dans une seule unitÃ©, permettant plus d'espace publicitaire dans une zone compacte.
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; font-size: 0.8em; line-height: 1.4;">
                                        <strong>Dans la page:</strong> PublicitÃ©s intÃ©grÃ©es directement dans le contenu de la page web, se fondant dans le flux naturel des articles.
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; font-size: 0.8em; line-height: 1.4;">
                                        <strong>Display (Auto):</strong> PublicitÃ©s display placÃ©es automatiquement par le systÃ¨me Google selon des algorithmes de positionnement optimal.
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; font-size: 0.8em; line-height: 1.4;">
                                        <strong>Multiplex (Auto):</strong> Plusieurs publicitÃ©s placÃ©es automatiquement par le systÃ¨me Google dans une seule unitÃ©.
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Performance RPM et Taux de VisibilitÃ© par Format Publicitaire</h2>
            <p style="text-align: center; color: #666; margin-bottom: 20px; font-size: 0.9em;">
                <strong>RPM (Revenus par Mille):</strong> Le montant de revenus gagnÃ©s par 1000 impressions. Un RPM plus Ã©levÃ© signifie plus d'argent par vue publicitaire. | 
                <strong>VisibilitÃ©:</strong> Le pourcentage de publicitÃ©s rÃ©ellement visibles par les utilisateurs (non cachÃ©es sous le pli ou hors Ã©cran). Une visibilitÃ© plus Ã©levÃ©e signifie un meilleur engagement utilisateur.
            </p>
            <div class="chart-wrapper">
                <canvas id="combinedChart"></canvas>
            </div>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">RÃ©partition Mensuelle des Revenus par Format Publicitaire</h2>
            <div class="chart-wrapper">
                <canvas id="monthlyChart"></canvas>
            </div>
        </div>

        <div class="data-table">
            <table>
                <thead>
                    <tr>
                        <th>Format Publicitaire</th>
                        <th>MÃ©thode de Placement</th>
                        <th>Revenus (EUR)</th>
                        <th>Impressions</th>
                        <th>RPM (EUR)</th>
                        <th>VisibilitÃ© %</th>
                        <th>Clics</th>
                    </tr>
                </thead>
                <tbody>
                                <tr>
                                    <td>Display</td>
                                    <td>Manuel</td>
                                    <td>â‚¬8,771.72</td>
                                    <td>36,264,766</td>
                                    <td>â‚¬0.24</td>
                                    <td>49.9%</td>
                                    <td>95,632</td>
                                </tr>
                                <tr style="background: linear-gradient(90deg, rgba(238,66,102,0.1) 0%, transparent 100%);">
                                    <td><strong>Vignette</strong></td>
                                    <td>Auto ads</td>
                                    <td><strong>â‚¬3,110.35</strong></td>
                                    <td>2,136,834</td>
                                    <td><strong>â‚¬1.46</strong></td>
                                    <td><strong>89.57%</strong></td>
                                    <td><strong>54,750</strong></td>
                                </tr>
                                <tr>
                                    <td>Ancre</td>
                                    <td>Auto ads</td>
                                    <td>â‚¬2,986.64</td>
                                    <td>4,702,672</td>
                                    <td>â‚¬0.64</td>
                                    <td>95.83%</td>
                                    <td>67,660</td>
                                </tr>
                    <tr>
                        <td>Multiplex</td>
                        <td>Manuel</td>
                        <td>â‚¬2,896.65</td>
                        <td>5,157,821</td>
                        <td>â‚¬0.56</td>
                        <td>38.96%</td>
                        <td>22,413</td>
                    </tr>
                    <tr>
                        <td>Dans la page</td>
                        <td>Auto ads</td>
                        <td>â‚¬561.17</td>
                        <td>3,718,124</td>
                        <td>â‚¬0.15</td>
                        <td>25.95%</td>
                        <td>5,394</td>
                    </tr>
                    <tr>
                        <td>Display</td>
                        <td>Auto ads</td>
                        <td>â‚¬278.28</td>
                        <td>839,303</td>
                        <td>â‚¬0.33</td>
                        <td>100%</td>
                        <td>1,163</td>
                    </tr>
                    <tr>
                        <td>Multiplex</td>
                        <td>Auto ads</td>
                        <td>â‚¬90.40</td>
                        <td>257,455</td>
                        <td>â‚¬0.35</td>
                        <td>6.47%</td>
                        <td>681</td>
                    </tr>
                    <tr>
                        <td>(inconnu)</td>
                        <td>Manuel</td>
                        <td>â‚¬7.98</td>
                        <td>2,226</td>
                        <td>â‚¬3.58</td>
                        <td>0%</td>
                        <td>97</td>
                    </tr>
                    <tr>
                        <td>Dans le fil</td>
                        <td>Manuel</td>
                        <td>â‚¬0.61</td>
                        <td>4,528</td>
                        <td>â‚¬0.13</td>
                        <td>58.67%</td>
                        <td>14</td>
                    </tr>
                    <tr>
                        <td>Lien unitÃ©</td>
                        <td>Auto ads</td>
                        <td>â‚¬0.03</td>
                        <td>1</td>
                        <td>â‚¬26.30</td>
                        <td>-</td>
                        <td>1</td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
    </div>

    <script>
        // Password protection
        const CORRECT_PASSWORD = '854714';
        
        function checkPassword() {
            const input = document.getElementById('passwordInput');
            const errorMessage = document.getElementById('errorMessage');
            const overlay = document.getElementById('passwordOverlay');
            const mainContent = document.getElementById('mainContent');
            
            if (input.value === CORRECT_PASSWORD) {
                overlay.style.display = 'none';
                mainContent.classList.add('authenticated');
                // Initialize charts after authentication
                initializeCharts();
            } else {
                errorMessage.style.display = 'block';
                input.value = '';
                input.focus();
                setTimeout(() => {
                    errorMessage.style.display = 'none';
                }, 3000);
            }
        }
        
        // Allow Enter key to submit password
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });

        function initializeCharts() {
            // Chart.js configuration
            Chart.defaults.font.family = "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif";
            Chart.defaults.color = '#333';

            // Revenue Chart
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            new Chart(revenueCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Display (Manuel)', 'Vignette', 'Ancre', 'Multiplex (Manuel)', 'Dans la page', 'Display (Auto)', 'Multiplex (Auto)'],
                    datasets: [{
                        data: [8771.72, 3110.35, 2986.64, 2896.65, 561.17, 278.28, 90.40],
                        backgroundColor: [
                            '#540d6e',
                            '#ee4266',
                            '#0ead69',
                            '#3bceac',
                            '#ffd23f',
                            '#540d6e',
                            '#3bceac'
                        ],
                        borderWidth: 0,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.parsed;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = ((value / total) * 100).toFixed(1);
                                    return `${label}: â‚¬${value.toLocaleString()} (${percentage}%)`;
                                }
                            }
                        }
                    }
                }
            });

            // Combined RPM & Viewability Chart (Stacked Style)
            const combinedCtx = document.getElementById('combinedChart').getContext('2d');
            new Chart(combinedCtx, {
                type: 'bar',
                data: {
                    labels: ['Ancre', 'Vignette', 'Display (Manuel)', 'Multiplex (Manuel)', 'Display (Auto)', 'Multiplex (Auto)', 'Dans la page', 'Dans le fil'],
                    datasets: [{
                        label: 'RPM (â‚¬)',
                        data: [64, 146, 24, 56, 33, 35, 15, 13],
                        backgroundColor: function(context) {
                            const value = context.parsed.y;
                            if (value > 100) return '#ee4266'; // High RPM - Red
                            if (value > 50) return '#3bceac'; // Medium RPM - Turquoise
                            return '#ffd23f'; // Lower RPM - Yellow
                        },
                        borderColor: function(context) {
                            const value = context.parsed.y;
                            if (value > 100) return '#ee4266';
                            if (value > 50) return '#3bceac';
                            return '#ffd23f';
                        },
                        borderWidth: 2,
                        borderRadius: 4,
                        stack: 'Stack 0'
                    }, {
                        label: 'VisibilitÃ© %',
                        data: [-95.83, -89.57, -49.9, -38.96, -100, -6.47, -25.95, -58.67],
                        backgroundColor: function(context) {
                            const value = Math.abs(context.parsed.y);
                            if (value > 80) return '#0ead69'; // Excellent viewability
                            if (value > 50) return '#3bceac'; // Good viewability
                            if (value > 25) return '#ffd23f'; // Fair viewability
                            return '#ee4266'; // Poor viewability
                        },
                        borderColor: function(context) {
                            const value = Math.abs(context.parsed.y);
                            if (value > 80) return '#0ead69';
                            if (value > 50) return '#3bceac';
                            if (value > 25) return '#ffd23f';
                            return '#ee4266';
                        },
                        borderWidth: 2,
                        borderRadius: 4,
                        stack: 'Stack 0'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                padding: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    if (context.datasetIndex === 0) {
                                        return `RPM: â‚¬${(context.parsed.y / 100).toFixed(2)}`;
                                    } else {
                                        return `VisibilitÃ©: ${Math.abs(context.parsed.y)}%`;
                                    }
                                }
                            }
                        }
                    },
                    interaction: {
                        intersect: false
                    },
                    scales: {
                        x: {
                            stacked: true,
                            grid: {
                                display: false
                            },
                            ticks: {
                                maxRotation: 45,
                                minRotation: 45
                            }
                        },
                        y: {
                            stacked: true,
                            beginAtZero: false,
                            grid: {
                                color: '#f0f0f0'
                            },
                            ticks: {
                                callback: function(value) {
                                    if (value >= 0) {
                                        return 'â‚¬' + (value / 100).toFixed(2);
                                    } else {
                                        return Math.abs(value) + '%';
                                    }
                                },
                                color: function(context) {
                                    return context.tick.value >= 0 ? '#ee4266' : '#540d6e';
                                }
                            },
                            title: {
                                display: true,
                                text: 'RPM (â‚¬) â†‘ | VisibilitÃ© (%) â†“',
                                color: '#333',
                                font: {
                                    weight: 'bold'
                                }
                            }
                        }
                    }
                }
            });

            // Monthly Revenue Breakdown Chart (Stacked Bar)
            const monthlyCtx = document.getElementById('monthlyChart').getContext('2d');
            new Chart(monthlyCtx, {
                type: 'bar',
                data: {
                    labels: ['2025-01', '2025-02', '2025-03', '2025-04', '2025-05', '2025-06', '2025-07', '2025-08', '2025-09'],
                    datasets: [
                        {
                            label: 'Display (Manuel)',
                            data: [1146.41, 1167.42, 962.35, 845.43, 906.31, 986.55, 873.16, 1031.46, 852.61],
                            backgroundColor: '#540d6e',
                            borderColor: '#540d6e',
                            borderWidth: 1
                        },
                        {
                            label: 'Multiplex (Manuel)',
                            data: [39.56, 88.81, 677.60, 554.26, 611.65, 342.83, 146.75, 222.22, 252.53],
                            backgroundColor: '#3bceac',
                            borderColor: '#3bceac',
                            borderWidth: 1
                        },
                        {
                            label: 'Ancre',
                            data: [291.28, 0, 0, 337.14, 413.72, 427.66, 385.97, 575.79, 555.08],
                            backgroundColor: '#0ead69',
                            borderColor: '#0ead69',
                            borderWidth: 1
                        },
                        {
                            label: 'Vignette',
                            data: [396.69, 454.94, 377.20, 309.77, 277.69, 339.27, 318.47, 324.26, 312.05],
                            backgroundColor: '#ee4266',
                            borderColor: '#ee4266',
                            borderWidth: 1
                        },
                        {
                            label: 'Dans la page',
                            data: [28.66, 32.80, 47.06, 42.44, 65.90, 80.84, 96.77, 90.68, 76.02],
                            backgroundColor: '#ffd23f',
                            borderColor: '#ffd23f',
                            borderWidth: 1
                        },
                        {
                            label: 'Display (Auto)',
                            data: [33.64, 35.92, 22.46, 22.14, 25.80, 32.95, 35.93, 34.94, 34.52],
                            backgroundColor: '#cccccc',
                            borderColor: '#cccccc',
                            borderWidth: 1
                        },
                        {
                            label: 'Multiplex (Auto)',
                            data: [0, 50.63, 0.13, 0.01, 0.02, 0.02, 0.01, 0.01, 0.01],
                            backgroundColor: '#999999',
                            borderColor: '#999999',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Revenus Mensuels par Format Publicitaire (Janvier - Septembre 2025)',
                            font: {
                                size: 16,
                                weight: 'bold'
                            },
                            color: '#540d6e'
                        },
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                padding: 15
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label}: â‚¬${context.parsed.y.toLocaleString()}`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            stacked: true,
                            grid: {
                                display: false
                            },
                            ticks: {
                                maxRotation: 0
                            },
                            title: {
                                display: true,
                                text: 'Mois',
                                color: '#333',
                                font: {
                                    weight: 'bold'
                                }
                            }
                        },
                        y: {
                            stacked: true,
                            beginAtZero: true,
                            grid: {
                                color: '#f0f0f0'
                            },
                            ticks: {
                                callback: function(value) {
                                    return 'â‚¬' + value.toLocaleString();
                                }
                            },
                            title: {
                                display: true,
                                text: 'Revenus (â‚¬)',
                                color: '#333',
                                font: {
                                    weight: 'bold'
                                }
                            }
                        }
                    }
                }
            });

            // Add smooth scroll behavior
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            // Add animation to metric cards
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.metric-card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });
        }
    </script>
</body>
</html>